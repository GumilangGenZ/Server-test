#Use official Kali Linux image
FROM kalilinux/kali-rolling

#Update system
RUN apt update && apt upgrade -y

#Install Shellinabox
RUN apt install -y shellinabox

#Add user
RUN useradd -m -s /bin/bash kali

#Set user password
RUN echo "kali:kali" | chpasswd

#Configure Shellinabox
RUN shellinaboxd -port 4200 -s /:LOGIN

#Expose port 4200
EXPOSE 4200

#Run command when container starts
CMD ["shellinaboxd", "-port", "4200", "-s", "/:LOGIN"]
